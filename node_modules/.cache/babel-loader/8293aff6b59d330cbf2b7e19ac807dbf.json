{"remainingRequest":"C:\\Users\\DELL\\Desktop\\one-web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\DELL\\Desktop\\one-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\DELL\\Desktop\\one-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\DELL\\Desktop\\one-web\\src\\views\\Setting.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\DELL\\Desktop\\one-web\\src\\views\\Setting.vue","mtime":1576543734000},{"path":"C:\\Users\\DELL\\Desktop\\one-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\DELL\\Desktop\\one-web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\DELL\\Desktop\\one-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\DELL\\Desktop\\one-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm06IHsKICAgICAgICB1c2VySWQ6IDAsCiAgICAgICAgbW9iaWxlOiAnJywKICAgICAgICBwYXNzd29yZDogJycsCiAgICAgICAgbmlja25hbWU6ICcnLAogICAgICAgIGF2YXRhcjogJycsCiAgICAgICAgZ2VuZGVyOiAnJywKICAgICAgICBiaXJ0aGRheTogJycsCiAgICAgICAgaW50cm9kdWN0aW9uOiAnJwogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuZm9ybS51c2VySWQgPSB0aGlzLiRyb3V0ZXIuY3VycmVudFJvdXRlLnBhcmFtcy51c2VySWQ7CiAgICAgIHRoaXMuYXhpb3MuZ2V0KHRoaXMuR0xPQkFMLmJhc2VVcmwgKyAnL3VzZXI/dXNlcklkPScgKyB0aGlzLmZvcm0udXNlcklkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICB2YXIgdXNlciA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgX3RoaXMuZm9ybS5tb2JpbGUgPSB1c2VyLm1vYmlsZTsKICAgICAgICBfdGhpcy5mb3JtLnBhc3N3b3JkID0gdXNlci5wYXNzd29yZDsKICAgICAgICBfdGhpcy5mb3JtLm5pY2tuYW1lID0gdXNlci5uaWNrbmFtZTsKICAgICAgICBfdGhpcy5mb3JtLmF2YXRhciA9IHVzZXIuYXZhdGFyOwogICAgICAgIF90aGlzLmZvcm0uZ2VuZGVyID0gdXNlci5nZW5kZXI7CiAgICAgICAgX3RoaXMuZm9ybS5iaXJ0aGRheSA9ICcnICsgdXNlci5iaXJ0aGRheS55ZWFyICsgJy0nICsgdXNlci5iaXJ0aGRheS5tb250aCArICctJyArIHVzZXIuYmlydGhkYXkuZGF5OwogICAgICAgIF90aGlzLmZvcm0uaW50cm9kdWN0aW9uID0gdXNlci5pbnRyb2R1Y3Rpb247CiAgICAgIH0pOwogICAgfSwKICAgIG9uU3VibWl0OiBmdW5jdGlvbiBvblN1Ym1pdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgdGltZXMgPSB0aGlzLmZvcm0uYmlydGhkYXkuc3BsaXQoJy0nKTsKICAgICAgdGhpcy5heGlvcyh7CiAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgdXJsOiB0aGlzLkdMT0JBTC5iYXNlVXJsICsgJy91c2VyL3VwZGF0ZScsCiAgICAgICAgZGF0YTogewogICAgICAgICAgdXNlcklkOiB0aGlzLmZvcm0udXNlcklkLAogICAgICAgICAgbW9iaWxlOiB0aGlzLmZvcm0ubW9iaWxlLAogICAgICAgICAgcGFzc3dvcmQ6IHRoaXMuZm9ybS5wYXNzd29yZCwKICAgICAgICAgIG5pY2tuYW1lOiB0aGlzLmZvcm0ubmlja25hbWUsCiAgICAgICAgICBhdmF0YXI6IHRoaXMuZm9ybS5hdmF0YXIsCiAgICAgICAgICBnZW5kZXI6IHRoaXMuZm9ybS5nZW5kZXIsCiAgICAgICAgICBiaXJ0aGRheTogewogICAgICAgICAgICB5ZWFyOiB0aW1lc1swXSwKICAgICAgICAgICAgbW9udGg6IHRpbWVzWzFdLAogICAgICAgICAgICBkYXk6IHRpbWVzWzJdCiAgICAgICAgICB9LAogICAgICAgICAgaW50cm9kdWN0aW9uOiB0aGlzLmZvcm0uaW50cm9kdWN0aW9uCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuaW5pdCgpOwogICAgICB9KTsKICAgIH0sCiAgICB1cGxvYWRTdWNjZXNzOiBmdW5jdGlvbiB1cGxvYWRTdWNjZXNzKHJlc3BvbnNlLCBmaWxlLCBmaWxlTGlzdCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKCiAgICAgIGlmIChyZXNwb25zZS5jb2RlID09PSAwKSB7CiAgICAgICAgdGhpcy5mb3JtLmF2YXRhciA9IHJlc3BvbnNlLm1zZzsKICAgICAgICB0aGlzLmF4aW9zLnBvc3QodGhpcy5HTE9CQUwuYmFzZVVybCArICcvdXNlci9jaGFuZ2VBdmF0YXInLCB7CiAgICAgICAgICB1c2VySWQ6IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLnVzZXIpLmlkLAogICAgICAgICAgYXZhdGFyOiB0aGlzLmZvcm0uYXZhdGFyCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICB2YXIgdXNlciA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLnVzZXIpOwogICAgICAgICAgdXNlci5hdmF0YXIgPSBfdGhpczMuZm9ybS5hdmF0YXI7CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcicsIEpTT04uc3RyaW5naWZ5KHVzZXIpKTsKICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uIChlcnIpIHt9KTsKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuaW5pdCgpOwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHt9LAogIGNvbXB1dGVkOiB7fQp9Ow=="},{"version":3,"sources":["Setting.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div style=\"width: 600px;position: center\">\n    <el-form ref=\"form\" :model=\"form\" label-width=\"100px\">\n      <el-form-item label=\"头像\">\n        <el-upload\n          class=\"avatar-uploader\"\n          action=\"http://localhost:9091/api/upload\"\n          :show-file-list=\"false\"\n          :on-success=\"uploadSuccess\"\n          name=\"filename\">\n          <el-avatar :size=\"100\">\n            <img :src=\"form.avatar\"/>\n          </el-avatar>\n        </el-upload>\n      </el-form-item>\n      <el-form-item label=\"昵称\">\n        <el-input type=\"text\" v-model=\"form.nickname\"/>\n      </el-form-item>\n      <el-form-item label=\"手机号\">\n        <el-input type=\"text\" v-model=\"form.mobile\"/>\n      </el-form-item>\n      <el-form-item label=\"密码\">\n        <el-input type=\"password\" v-model=\"form.password\"/>\n      </el-form-item>\n      <el-form-item label=\"性别\">\n        <el-radio v-model=\"form.gender\" label=\"男\">男</el-radio>\n        <el-radio v-model=\"form.gender\" label=\"女\">女</el-radio>\n      </el-form-item>\n      <el-form-item label=\"生日\">\n        <el-date-picker\n          v-model=\"form.birthday\"\n          type=\"date\" placeholder=\"选择日期\"\n          format=\"yyyy 年 MM 月 dd 日\"\n          value-format=\"yyyy-MM-dd\">\n        </el-date-picker>\n      </el-form-item>\n      <el-form-item label=\"个人简介\">\n        <el-input type=\"text\" v-model=\"form.introduction\"/>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" style=\"background-color: #009688;border: #009688;color: #ffffff\" @click=\"onSubmit\">\n          保存\n        </el-button>\n        <!--        <el-button style=\"background-color: #009688;border: #009688;color: #ffffff\" @click=\"onSubmit\">保存</el-button>-->\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\n  export default {\n    data() {\n      return {\n        form: {\n          userId: 0,\n          mobile: '',\n          password: '',\n          nickname: '',\n          avatar: '',\n          gender: '',\n          birthday: '',\n          introduction: '',\n        }\n      }\n    },\n    methods: {\n      init() {\n        this.form.userId = this.$router.currentRoute.params.userId\n        this.axios.get(this.GLOBAL.baseUrl + '/user?userId=' + this.form.userId).then(res => {\n          const user = res.data.data\n          this.form.mobile = user.mobile\n          this.form.password = user.password\n          this.form.nickname = user.nickname\n          this.form.avatar = user.avatar\n          this.form.gender = user.gender\n          this.form.birthday = '' + user.birthday.year + '-' + user.birthday.month + '-' + user.birthday.day\n          this.form.introduction = user.introduction\n        });\n      },\n      onSubmit() {\n        let times = this.form.birthday.split('-')\n        this.axios({\n          method: 'post',\n          url: this.GLOBAL.baseUrl + '/user/update',\n          data: {\n            userId: this.form.userId,\n            mobile: this.form.mobile,\n            password: this.form.password,\n            nickname: this.form.nickname,\n            avatar: this.form.avatar,\n            gender: this.form.gender,\n            birthday: {\n              year: times[0],\n              month: times[1],\n              day: times[2]\n            },\n            introduction: this.form.introduction,\n          }\n        }).then(() => {\n          this.init()\n        })\n      },\n      uploadSuccess(response, file, fileList) {\n        console.log(response)\n        if (response.code === 0) {\n          this.form.avatar = response.msg\n          this.axios.post(this.GLOBAL.baseUrl + '/user/changeAvatar', {\n            userId: JSON.parse(localStorage.user).id,\n            avatar: this.form.avatar\n          }).then((res) => {\n            let user = JSON.parse(localStorage.user)\n            user.avatar = this.form.avatar\n            localStorage.setItem('user', JSON.stringify(user));\n            location.reload()\n\n          }).catch((err) => {\n          })\n        }\n      }\n    },\n    mounted() {\n      this.init()\n    },\n    created() {\n\n    },\n    computed: {},\n\n  };\n</script>\n\n<style scoped>\n  .avatar-uploader .el-upload {\n    border: 1px dashed #d9d9d9;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n  }\n\n  .avatar-uploader .el-upload:hover {\n    border-color: #409EFF;\n  }\n\n  .avatar-uploader-icon {\n    font-size: 28px;\n    color: #8c939d;\n    width: 178px;\n    height: 178px;\n    line-height: 178px;\n    text-align: center;\n  }\n\n  .avatar {\n    width: 178px;\n    height: 178px;\n    display: block;\n  }\n</style>\n"],"sourceRoot":"src/views"}]}