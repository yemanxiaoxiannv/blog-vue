{"remainingRequest":"D:\\vue-app\\one-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue-app\\one-web\\src\\views\\Setting.vue?vue&type=style&index=0&id=f29285f4&scoped=true&lang=css&","dependencies":[{"path":"D:\\vue-app\\one-web\\src\\views\\Setting.vue","mtime":1577029558519},{"path":"D:\\vue-app\\one-web\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-app\\one-web\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\vue-app\\one-web\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\vue-app\\one-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-app\\one-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQouYnRuLWJvdHRvbiB7DQogICAgICAgICAgd2lkdGg6IDEyMHB4Ow0KCQkgIGhlaWdodDogNTBweDsNCiAgCSAgICBjb2xvcjogI2Y1NmM2YzsNCiAgCSAgICBiYWNrZ3JvdW5kOiByZ2IoMjMyLCAxODEsIDE1MiwwLjMpOw0KICAJICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYigyMzIsIDE4MSwgMTUyLDAuMyk7DQogIAkgICAgYm9yZGVyLXJhZGl1czogMTBweDsNCiAgCSAgICBwYWRkaW5nOiAxMHB4IDI1cHg7DQogIAkgICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAJICAgIGZvbnQtc2l6ZTogMTZweDsNCiAgCQltYXJnaW4tdG9wOiAxMHB4Ow0KICAJICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZSgwLjcpOw0KICAJICANCiAgCQ0KICB9CiAgLmF2YXRhci11cGxvYWRlciAuZWwtdXBsb2FkIHsKICAgIGJvcmRlcjogMXB4IGRhc2hlZCAjZDlkOWQ5OwogICAgYm9yZGVyLXJhZGl1czogNnB4OwogICAgY3Vyc29yOiBwb2ludGVyOwogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgb3ZlcmZsb3c6IGhpZGRlbjsKICB9CgogIC5hdmF0YXItdXBsb2FkZXIgLmVsLXVwbG9hZDpob3ZlciB7CiAgICBib3JkZXItY29sb3I6ICM0MDlFRkY7CiAgfQoKICAuYXZhdGFyLXVwbG9hZGVyLWljb24gewogICAgZm9udC1zaXplOiAyOHB4OwogICAgY29sb3I6ICM4YzkzOWQ7CiAgICB3aWR0aDogMTc4cHg7CiAgICBoZWlnaHQ6IDE3OHB4OwogICAgbGluZS1oZWlnaHQ6IDE3OHB4OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogIH0KCiAgLmF2YXRhciB7CiAgICB3aWR0aDogMTc4cHg7CiAgICBoZWlnaHQ6IDE3OHB4OwogICAgZGlzcGxheTogYmxvY2s7CiAgfQo="},{"version":3,"sources":["Setting.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Setting.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n\t\n  <div style=\"width: 600px;position: center\">\n    <el-form ref=\"form\" :model=\"form\" label-width=\"100px\">\n      <el-form-item  >\n        <el-upload\n          class=\"avatar-uploader\"\n          action=\"http://localhost:9091/api/upload\"\n          :show-file-list=\"false\"\n          :on-success=\"uploadSuccess\"\n          name=\"filename\">\n          <el-avatar :size=\"100\">\n            <img :src=\"form.avatar\"/>\n          </el-avatar>\n        </el-upload>\n      </el-form-item>\r\n\t  \n      <el-form-item label=\"用户名\">\n        <el-input type=\"text\" v-model=\"form.nickname\"/>\n      </el-form-item>\n      <el-form-item label=\"手机号\">\n        <el-input type=\"text\" v-model=\"form.mobile\"/>\n      </el-form-item>\n      <el-form-item label=\"密码\">\n        <el-input type=\"password\" v-model=\"form.password\"/>\n      </el-form-item>\n      <el-form-item label=\"性别\">\n        <el-radio v-model=\"form.gender\" label=\"男\">男</el-radio>\n        <el-radio v-model=\"form.gender\" label=\"女\">女</el-radio>\r\n\t\t<el-radio v-model=\"form.gender\" label=\"保密\">保密</el-radio>\n      </el-form-item>\n      <el-form-item label=\"生日\">\n        <el-date-picker\n          v-model=\"form.birthday\"\n          type=\"date\" placeholder=\"城市\"\n          format=\"yyyy 年 MM 月 dd 日\"\n          value-format=\"yyyy-MM-dd\">\n        </el-date-picker>\n      </el-form-item>\n      <el-form-item label=\"个人简介\">\n        <el-input type=\"text\" v-model=\"form.introduction\"/>\n      </el-form-item>\n      <el-form-item>\n        <el-button class=\"btn-botton \" @click=\"onSubmit\">\n          保存设置\n        </el-button>\n        <!--        <el-button style=\"background-color: #009688;border: #009688;color: #ffffff\" @click=\"onSubmit\">保存</el-button>-->\n      </el-form-item>\n    </el-form>\r\n\t\n  </div>\n</template>\n\n<script>\n  export default {\n    data() {\n      return {\n        form: {\n          userId: 0,\n          mobile: '',\n          password: '',\n          nickname: '',\n          avatar: '',\n          gender: '',\n          birthday: '',\n          introduction: '',\n        }\n      }\n    },\n    methods: {\n      init() {\n        this.form.userId = this.$router.currentRoute.params.userId\n        this.axios.get(this.GLOBAL.baseUrl + '/user?userId=' + this.form.userId).then(res => {\n          const user = res.data.data\n          this.form.mobile = user.mobile\n          this.form.password = user.password\n          this.form.nickname = user.nickname\n          this.form.avatar = user.avatar\n          this.form.gender = user.gender\n          this.form.birthday = '' + user.birthday.year + '-' + user.birthday.month + '-' + user.birthday.day\n          this.form.introduction = user.introduction\n        });\n      },\n      onSubmit() {\n        let times = this.form.birthday.split('-')\n        this.axios({\n          method: 'post',\n          url: this.GLOBAL.baseUrl + '/user/update',\n          data: {\n            userId: this.form.userId,\n            mobile: this.form.mobile,\n            password: this.form.password,\n            nickname: this.form.nickname,\n            avatar: this.form.avatar,\n            gender: this.form.gender,\n            birthday: {\n              year: times[0],\n              month: times[1],\n              day: times[2]\n            },\n            introduction: this.form.introduction,\n          }\n        }).then(() => {\n          this.init()\n        })\n      },\n      uploadSuccess(response, file, fileList) {\n        console.log(response)\n        if (response.code === 0) {\n          this.form.avatar = response.msg\n          this.axios.post(this.GLOBAL.baseUrl + '/user/changeAvatar', {\n            userId: JSON.parse(localStorage.user).id,\n            avatar: this.form.avatar\n          }).then((res) => {\n            let user = JSON.parse(localStorage.user)\n            user.avatar = this.form.avatar\n            localStorage.setItem('user', JSON.stringify(user));\n            location.reload()\n\n          }).catch((err) => {\n          })\n        }\n      }\n    },\n    mounted() {\n      this.init()\n    },\n    created() {\n\n    },\n    computed: {},\n\n  };\n</script>\n\n<style scoped>\r\n.btn-botton {\r\n          width: 120px;\r\n\t\t  height: 50px;\r\n  \t    color: #f56c6c;\r\n  \t    background: rgb(232, 181, 152,0.3);\r\n  \t    border: 1px solid rgb(232, 181, 152,0.3);\r\n  \t    border-radius: 10px;\r\n  \t    padding: 10px 25px;\r\n  \t    text-align: center;\r\n  \t    font-size: 16px;\r\n  \t\tmargin-top: 10px;\r\n  \t    -webkit-transform: scale(0.7);\r\n  \t  \r\n  \t\r\n  }\n  .avatar-uploader .el-upload {\n    border: 1px dashed #d9d9d9;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n  }\n\n  .avatar-uploader .el-upload:hover {\n    border-color: #409EFF;\n  }\n\n  .avatar-uploader-icon {\n    font-size: 28px;\n    color: #8c939d;\n    width: 178px;\n    height: 178px;\n    line-height: 178px;\n    text-align: center;\n  }\n\n  .avatar {\n    width: 178px;\n    height: 178px;\n    display: block;\n  }\n</style>\n"]}]}