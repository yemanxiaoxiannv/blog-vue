{"remainingRequest":"D:\\vue-app\\one-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue-app\\one-web\\src\\views\\SignIn.vue?vue&type=style&index=0&id=98b06508&scoped=true&lang=css&","dependencies":[{"path":"D:\\vue-app\\one-web\\src\\views\\SignIn.vue","mtime":1577022393296},{"path":"D:\\vue-app\\one-web\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-app\\one-web\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\vue-app\\one-web\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\vue-app\\one-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-app\\one-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCiNiZyB7DQoJcG9zaXRpb246IGFic29sdXRlOw0KCXRvcDogMDsNCglsZWZ0OiAwOw0KCXdpZHRoOiAxMDAlOw0KCWhlaWdodDogMTAwJTsNCgliYWNrZ3JvdW5kLWltYWdlOiB1cmwoLi4vYXNzZXRzL2ltZy9iZy5qcGVnKTsNCn0NCi5sb2dpbi1ib3ggew0KCXdpZHRoOiA1NTBweDsNCgloZWlnaHQ6IDM2MHB4Ow0KCWJvcmRlcjogMnB4IHNvbGlkICNmZmY7DQoJYm9yZGVyLXJhZGl1czogMTBweDsNCgliYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjU1LDI1NSwyNTUsIDAuNik7DQoJcG9zaXRpb246IGFic29sdXRlOw0KCXRvcDogMjAwcHg7DQoJbGVmdDogMzAlOw0KCQ0KfQ0KLmxvZ2luLWZvcm0gew0KCXBhZGRpbmctdG9wOiAxMHB4Ow0KCXdpZHRoOiA3MCU7DQoJbWFyZ2luOiAwIGF1dG87DQoJdGV4dC1hbGlnbjogbGVmdDsNCgkNCn0NCi5sb2dpbi1mb3JtIGlucHV0IHsNCgl3aWR0aDogMTAwJTsNCgloZWlnaHQ6IDQwcHg7DQoJb3V0bGluZTogbm9uZTsNCglib3JkZXI6IG5vbmU7DQoJbWFyZ2luLWJvdHRvbTogMTBweDsNCglib3JkZXItcmFkaXVzOiA1cHg7DQoJDQp9DQouY29kZXsNCgliYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjU1LDI1NSwyNTUsIDAuNik7DQoJcGFkZGluZy1sZWZ0OiAyMHB4Ow0KfQ0KLmNvZGUtYm94IHsNCglkaXNwbGF5OiBmbGV4Ow0KCW1hcmdpbi10b3A6IDEwcHg7DQoJbWFyZ2luLWJvdHRvbTogMjBweDsNCglqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47DQp9DQoudmVyaWZ5IHsNCglmbGV4OiAwIDAgNDAlOw0KCWhlaWdodDogNDBweDsNCglib3JkZXItcmFkaXVzOiA1cHg7DQp9DQoudmVyaWZ5OmhvdmVyIHsNCgljdXJzb3I6IHBvaW50ZXI7DQp9DQouY29kZSB7DQoJZmxleDogMCAwIDQwJTsNCgloZWlnaHQ6IDQwcHg7DQp9DQphIHsNCgljb2xvcjogIzAwOGI4YjsNCglmb250LXdlaWdodDogNzAwOw0KfQ0KQGZvbnQtZmFjZSB7DQoJZm9udC1mYW1pbHk6ICdpY29uZm9udCc7ICAvKiBwcm9qZWN0IGlkIDE0MzIzNjAgKi8NCglzcmM6IHVybCgnLy9hdC5hbGljZG4uY29tL3QvZm9udF8xNDMyMzYwXzluNHhnaWdkY3E1LmVvdCcpOw0KCXNyYzogdXJsKCcvL2F0LmFsaWNkbi5jb20vdC9mb250XzE0MzIzNjBfOW40eGdpZ2RjcTUuZW90PyNpZWZpeCcpIGZvcm1hdCgnZW1iZWRkZWQtb3BlbnR5cGUnKSwNCgl1cmwoJy8vYXQuYWxpY2RuLmNvbS90L2ZvbnRfMTQzMjM2MF85bjR4Z2lnZGNxNS53b2ZmMicpIGZvcm1hdCgnd29mZjInKSwNCgl1cmwoJy8vYXQuYWxpY2RuLmNvbS90L2ZvbnRfMTQzMjM2MF85bjR4Z2lnZGNxNS53b2ZmJykgZm9ybWF0KCd3b2ZmJyksDQoJdXJsKCcvL2F0LmFsaWNkbi5jb20vdC9mb250XzE0MzIzNjBfOW40eGdpZ2RjcTUudHRmJykgZm9ybWF0KCd0cnVldHlwZScpLA0KCXVybCgnLy9hdC5hbGljZG4uY29tL3QvZm9udF8xNDMyMzYwXzluNHhnaWdkY3E1LnN2ZyNpY29uZm9udCcpIGZvcm1hdCgnc3ZnJyk7DQoJCQl9DQouaWNvbmZvbnR7DQoJZm9udC1mYW1pbHk6Imljb25mb250IiFpbXBvcnRhbnQ7DQoJZm9udC1zaXplOjIwcHg7DQoJZm9udC1zdHlsZTpub3JtYWw7DQoJY29sb3I6I2FhYTsNCgktd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDsNCgktd2Via2l0LXRleHQtc3Ryb2tlLXdpZHRoOiAwLjJweDsNCgktbW96LW9zeC1mb250LXNtb290aGluZzogZ3JheXNjYWxlOw0KfQ0KLmJveHsNCgl3aWR0aDogMTAwJTsNCgloZWlnaHQ6IDcwcHg7DQoJbWFyZ2luLWJvdHRvbTogMjBweDsNCgkNCn0NCi5ib3ggbGFiZWx7DQoJZGlzcGxheTogYmxvY2s7DQoJcGFkZGluZy10b3A6IDE1cHg7DQoJaGVpZ2h0OiAxNXB4Ow0KCQ0KfQ0KLmJveCBpew0KCXBvc2l0aW9uOiByZWxhdGl2ZTsNCgl0b3A6MzNweDsNCglwYWRkaW5nLWxlZnQ6IDVweDsNCn0NCi5ib3ggaW5wdXR7DQoJZGlzcGxheTogYmxvY2s7DQoJd2lkdGg6IDEwMCU7DQoJaGVpZ2h0OiA0M3B4Ow0KCWJvcmRlcjogMCBzb2xpZCAjY2NjOw0KCWJhY2tncm91bmQtY29sb3I6IHJnYigyNTUsMjU1LDI1NSwgMC42KTsNCglwYWRkaW5nLWxlZnQ6IDM1cHg7DQoJcGFkZGluZy10b3A6IDVweDsNCgkNCn0NCg=="},{"version":3,"sources":["SignIn.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"SignIn.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n\t<div id=\"bg\">\r\n\t\t<router-link to=\"/\">首页</router-link>\r\n\t\t<div class=\"login-box\">\r\n\t\t\t<form class=\"login-form\">\r\n\t\t\t\t<div class=\"box\">\r\n\t\t\t\t\t<label>{{accountTip}}</label>\r\n\t\t\t\t\t<i class=\"iconfont\">&#xe74c;</i>\r\n\t\t\t\t\t<input type=\"text\" v-model=\"userDto.mobile\" id=\"mobile\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"box\">\r\n\t\t\t\t\t\r\n\t\t\t\t   <i class=\"iconfont\">&#xe675;</i>\r\n\t\t\t\t   <input type=\"password\" v-model=\"userDto.password\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"code-box\">\r\n\t\t\t\t\t<input type=\"text\" v-model=\"userDto.code\" class=\"code\" />\r\n\t\t\t\t\t<img class=\"verify\" @click.prevent=\"refresh\" ref=\"codeImg\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<input type=\"button\" class=\"btn btn-lg dark-fill\" value=\"登录\" @click=\"signIn(userDto)\" />\r\n\t\t\t\t<router-link to=\"/sign-up\">没有账号？去注册</router-link>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n<script>\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tuserDto: {\r\n\t\t\t\tmobile: '',\r\n\t\t\t\tpassword: '',\r\n\t\t\t\tcode: ''\r\n\t\t\t},\r\n\t\t\ttoken: ''\r\n\t\t};\r\n\t},\r\n\tcreated() {\r\n\t\tthis.axios.get(this.GLOBAL.baseUrl + '/code', { responseType: 'blob' }).then(res => {\r\n\t\t\t// console.log(res);\r\n\t\t\tvar img = this.$refs.codeImg;\r\n\t\t\tlet url = window.URL.createObjectURL(res.data);\r\n\t\t\timg.src = url;\r\n\t\t\tconsole.log(res.headers);\r\n\t\t\t//取得后台通过响应头返回的sessionId的值\r\n\t\t\tthis.token = res.headers['access-token'];\r\n\t\t\tconsole.log(this.token);\r\n\t\t});\r\n\t},\r\n\tmethods: {\r\n\t\tsignIn(userDto) {\r\n\t\t\tthis.axios({\r\n\t\t\t\tmethod: 'post',\r\n\t\t\t\turl: this.GLOBAL.baseUrl + '/user/sign-in',\r\n\t\t\t\tdata: JSON.stringify(this.userDto),\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Access-Token': this.token  //将token放在请求头带到后端\r\n\t\t\t\t}\r\n\t\t\t}).then(res => {\r\n\t\t\t\tif (res.data.msg === '成功') {\r\n\t\t\t\t\talert('登录成功');\r\n\t\t\t\t\tlocalStorage.setItem('user', JSON.stringify(res.data.data));\r\n\t\t\t\t\tthis.$router.push('/');\r\n\t\t\t\t} else {\r\n\t\t\t\t\talert(res.data.msg);\r\n\t\t\t\t\tthis.userDto.code = '';\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\trefresh() {\r\n\t\t\tthis.axios.get(this.GLOBAL.baseUrl + '/code', { responseType: 'blob' }).then(res => {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tvar img = this.$refs.codeImg;\r\n\t\t\t\tlet url = window.URL.createObjectURL(res.data);\r\n\t\t\t\timg.src = url;\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n<style scoped>\r\n#bg {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tbackground-image: url(../assets/img/bg.jpeg);\r\n}\r\n.login-box {\r\n\twidth: 550px;\r\n\theight: 360px;\r\n\tborder: 2px solid #fff;\r\n\tborder-radius: 10px;\r\n\tbackground-color: rgb(255,255,255, 0.6);\r\n\tposition: absolute;\r\n\ttop: 200px;\r\n\tleft: 30%;\r\n\t\r\n}\r\n.login-form {\r\n\tpadding-top: 10px;\r\n\twidth: 70%;\r\n\tmargin: 0 auto;\r\n\ttext-align: left;\r\n\t\r\n}\r\n.login-form input {\r\n\twidth: 100%;\r\n\theight: 40px;\r\n\toutline: none;\r\n\tborder: none;\r\n\tmargin-bottom: 10px;\r\n\tborder-radius: 5px;\r\n\t\r\n}\r\n.code{\r\n\tbackground-color: rgb(255,255,255, 0.6);\r\n\tpadding-left: 20px;\r\n}\r\n.code-box {\r\n\tdisplay: flex;\r\n\tmargin-top: 10px;\r\n\tmargin-bottom: 20px;\r\n\tjustify-content: space-between;\r\n}\r\n.verify {\r\n\tflex: 0 0 40%;\r\n\theight: 40px;\r\n\tborder-radius: 5px;\r\n}\r\n.verify:hover {\r\n\tcursor: pointer;\r\n}\r\n.code {\r\n\tflex: 0 0 40%;\r\n\theight: 40px;\r\n}\r\na {\r\n\tcolor: #008b8b;\r\n\tfont-weight: 700;\r\n}\r\n@font-face {\r\n\tfont-family: 'iconfont';  /* project id 1432360 */\r\n\tsrc: url('//at.alicdn.com/t/font_1432360_9n4xgigdcq5.eot');\r\n\tsrc: url('//at.alicdn.com/t/font_1432360_9n4xgigdcq5.eot?#iefix') format('embedded-opentype'),\r\n\turl('//at.alicdn.com/t/font_1432360_9n4xgigdcq5.woff2') format('woff2'),\r\n\turl('//at.alicdn.com/t/font_1432360_9n4xgigdcq5.woff') format('woff'),\r\n\turl('//at.alicdn.com/t/font_1432360_9n4xgigdcq5.ttf') format('truetype'),\r\n\turl('//at.alicdn.com/t/font_1432360_9n4xgigdcq5.svg#iconfont') format('svg');\r\n\t\t\t}\r\n.iconfont{\r\n\tfont-family:\"iconfont\"!important;\r\n\tfont-size:20px;\r\n\tfont-style:normal;\r\n\tcolor:#aaa;\r\n\t-webkit-font-smoothing: antialiased;\r\n\t-webkit-text-stroke-width: 0.2px;\r\n\t-moz-osx-font-smoothing: grayscale;\r\n}\r\n.box{\r\n\twidth: 100%;\r\n\theight: 70px;\r\n\tmargin-bottom: 20px;\r\n\t\r\n}\r\n.box label{\r\n\tdisplay: block;\r\n\tpadding-top: 15px;\r\n\theight: 15px;\r\n\t\r\n}\r\n.box i{\r\n\tposition: relative;\r\n\ttop:33px;\r\n\tpadding-left: 5px;\r\n}\r\n.box input{\r\n\tdisplay: block;\r\n\twidth: 100%;\r\n\theight: 43px;\r\n\tborder: 0 solid #ccc;\r\n\tbackground-color: rgb(255,255,255, 0.6);\r\n\tpadding-left: 35px;\r\n\tpadding-top: 5px;\r\n\t\r\n}\r\n</style>\n"]}]}